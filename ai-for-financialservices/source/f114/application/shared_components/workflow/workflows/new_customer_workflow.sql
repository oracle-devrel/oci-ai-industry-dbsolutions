prompt --application/shared_components/workflow/workflows/new_customer_workflow
begin
--   Manifest
--     WORKFLOW: New Customer Workflow
--   Manifest End
wwv_flow_imp.component_begin (
 p_version_yyyy_mm_dd=>'2024.11.30'
,p_release=>'24.2.0'
,p_default_workspace_id=>7477895910065199
,p_default_application_id=>114
,p_default_id_offset=>8992108442064454
,p_default_owner=>'DEMOUSER'
);
wwv_flow_imp_shared.create_workflow(
 p_id=>wwv_flow_imp.id(2338152491237078)
,p_name=>'New Customer Workflow'
,p_static_id=>'New_Customer_Workflow'
,p_title=>'New Customer Workflow'
);
wwv_flow_imp_shared.create_workflow_variable(
 p_id=>wwv_flow_imp.id(2339262650237089)
,p_workflow_id=>wwv_flow_imp.id(2338152491237078)
,p_label=>'P_ACCOUNT_NUMBER'
,p_static_id=>'P_ACCOUNT_NUMBER'
,p_direction=>'IN'
,p_data_type=>'VARCHAR2'
,p_is_required=>true
);
wwv_flow_imp_shared.create_workflow_variable(
 p_id=>wwv_flow_imp.id(2339346506237090)
,p_workflow_id=>wwv_flow_imp.id(2338152491237078)
,p_label=>'P_CUSTOMER_NAME'
,p_static_id=>'P_CUSTOMER_NAME'
,p_direction=>'IN'
,p_data_type=>'VARCHAR2'
,p_is_required=>true
);
wwv_flow_imp_shared.create_workflow_variable(
 p_id=>wwv_flow_imp.id(2480416201537168)
,p_workflow_id=>wwv_flow_imp.id(2338152491237078)
,p_label=>'P_INCOME_LEVEL'
,p_static_id=>'P_INCOME_LEVEL'
,p_direction=>'IN'
,p_data_type=>'VARCHAR2'
,p_is_required=>true
);
wwv_flow_imp_shared.create_workflow_version(
 p_id=>wwv_flow_imp.id(2338270926237079)
,p_workflow_id=>wwv_flow_imp.id(2338152491237078)
,p_version=>'V1'
,p_state=>'INACTIVE'
);
wwv_flow_imp_shared.create_workflow_variable(
 p_id=>wwv_flow_imp.id(2339553470237092)
,p_workflow_version_id=>wwv_flow_imp.id(2338270926237079)
,p_label=>'Approver'
,p_static_id=>'APPROVER'
,p_direction=>'VARIABLE'
,p_data_type=>'VARCHAR2'
,p_value_type=>'STATIC'
,p_value=>'Madhu'
);
wwv_flow_imp_shared.create_workflow_variable(
 p_id=>wwv_flow_imp.id(2339665490237093)
,p_workflow_version_id=>wwv_flow_imp.id(2338270926237079)
,p_label=>'TaskOutcome'
,p_static_id=>'TASK_OUTCOME'
,p_direction=>'VARIABLE'
,p_data_type=>'VARCHAR2'
,p_value_type=>'NULL'
);
wwv_flow_imp_shared.create_workflow_variable(
 p_id=>wwv_flow_imp.id(2483078836537194)
,p_workflow_version_id=>wwv_flow_imp.id(2338270926237079)
,p_label=>'Approval Task Id'
,p_static_id=>'V_APPROVAL_TASK_ID'
,p_direction=>'VARIABLE'
,p_data_type=>'VARCHAR2'
,p_value_type=>'NULL'
);
wwv_flow_imp_shared.create_workflow_activity(
 p_id=>wwv_flow_imp.id(2338357805237080)
,p_workflow_version_id=>wwv_flow_imp.id(2338270926237079)
,p_name=>'Start'
,p_static_id=>'New'
,p_display_sequence=>10
,p_activity_type=>'NATIVE_WORKFLOW_START'
,p_diagram=>'{"position":{"x":90,"y":700},"z":1}'
);
wwv_flow_imp_shared.create_workflow_activity(
 p_id=>wwv_flow_imp.id(2338551845237082)
,p_workflow_version_id=>wwv_flow_imp.id(2338270926237079)
,p_name=>'End'
,p_static_id=>'New_2'
,p_display_sequence=>30
,p_activity_type=>'NATIVE_WORKFLOW_END'
,p_attribute_01=>'COMPLETED'
,p_diagram=>'{"position":{"x":1110,"y":930},"z":3}'
);
wwv_flow_imp_shared.create_workflow_activity(
 p_id=>wwv_flow_imp.id(2480559418537169)
,p_workflow_version_id=>wwv_flow_imp.id(2338270926237079)
,p_name=>'Auto Approve'
,p_static_id=>'New_1'
,p_display_sequence=>40
,p_activity_type=>'NATIVE_WORKFLOW_SWITCH'
,p_attribute_01=>'TRUE_FALSE_CHECK'
,p_attribute_03=>'FUNCTION_BODY'
,p_attribute_06=>'PLSQL'
,p_attribute_07=>wwv_flow_string.join(wwv_flow_t_varchar2(
'BEGIN ',
'    IF :P_INCOME_LEVEL > 500000 THEN ',
'      -- NO APPROVAL NEEDED',
'      RETURN FALSE; ',
'    ELSE ',
'      -- WE NEED APPROVAL',
'      RETURN TRUE; ',
'    END IF; ',
'END; '))
,p_diagram=>'{"position":{"x":300,"y":700},"z":5}'
);
wwv_flow_imp_shared.create_workflow_activity(
 p_id=>wwv_flow_imp.id(2480768639537171)
,p_workflow_version_id=>wwv_flow_imp.id(2338270926237079)
,p_name=>'Manual Approval Required'
,p_static_id=>'New_3'
,p_display_sequence=>50
,p_activity_type=>'NATIVE_CREATE_TASK'
,p_attribute_01=>wwv_flow_imp.id(2495354177213523)
,p_attribute_04=>'V_APPROVAL_TASK_ID'
,p_attribute_10=>'Y'
,p_diagram=>'{"position":{"x":920,"y":530},"z":6}'
);
wwv_flow_imp_shared.create_task_def_comp_param(
 p_id=>wwv_flow_imp.id(2481457534537178)
,p_workflow_activity_id=>wwv_flow_imp.id(2480768639537171)
,p_task_def_param_id=>wwv_flow_imp.id(2550937177251492)
,p_value_type=>'ITEM'
,p_value=>'P_ACCOUNT_NUMBER'
);
wwv_flow_imp_shared.create_task_def_comp_param(
 p_id=>wwv_flow_imp.id(2481555828537179)
,p_workflow_activity_id=>wwv_flow_imp.id(2480768639537171)
,p_task_def_param_id=>wwv_flow_imp.id(2560480341757734)
,p_value_type=>'ITEM'
,p_value=>'P_CUSTOMER_NAME'
);
wwv_flow_imp_shared.create_workflow_transition(
 p_id=>wwv_flow_imp.id(2338627038237083)
,p_name=>'New'
,p_transition_type=>'NORMAL'
,p_from_activity_id=>wwv_flow_imp.id(2338357805237080)
,p_to_activity_id=>wwv_flow_imp.id(2480559418537169)
,p_diagram=>'{"source":{},"target":{"name":"topLeft","args":{"dx":"4.55%","dy":"50%","rotate":true}},"vertices":[],"z":4,"label":{"distance":0.5,"offset":0}}'
);
wwv_flow_imp_shared.create_workflow_transition(
 p_id=>wwv_flow_imp.id(2481264329537176)
,p_name=>'TRUE'
,p_transition_type=>'BRANCH'
,p_from_activity_id=>wwv_flow_imp.id(2480559418537169)
,p_to_activity_id=>wwv_flow_imp.id(2480768639537171)
,p_condition_expr1=>'TRUE'
,p_diagram=>'{"source":{"args":{"dx":-10,"dy":0},"name":"right"},"target":{"args":{"dx":"18.182%","dy":"50%","rotate":true},"name":"topLeft"},"vertices":[],"z":10,"label":{"distance":0.5,"offset":0}}'
);
wwv_flow_imp_shared.create_workflow_transition(
 p_id=>wwv_flow_imp.id(2481306519537177)
,p_name=>'FALSE'
,p_transition_type=>'BRANCH'
,p_from_activity_id=>wwv_flow_imp.id(2480559418537169)
,p_to_activity_id=>wwv_flow_imp.id(2338551845237082)
,p_condition_expr1=>'FALSE'
,p_diagram=>'{"source":{"args":{"dx":-10,"dy":0},"name":"right"},"target":{"args":{"dx":"50%","dy":"50%","rotate":true},"name":"topLeft"},"vertices":[],"z":11,"label":{"distance":0.5,"offset":0}}'
);
wwv_flow_imp_shared.create_workflow_transition(
 p_id=>wwv_flow_imp.id(2481061123537174)
,p_name=>'New'
,p_transition_type=>'NORMAL'
,p_from_activity_id=>wwv_flow_imp.id(2480768639537171)
,p_to_activity_id=>wwv_flow_imp.id(2338551845237082)
,p_diagram=>'{"source":{"name":"right","args":{"dx":-10,"dy":0}},"target":{"name":"topLeft","args":{"dx":"33.333%","dy":"33.333%","rotate":true}},"vertices":[],"z":9,"label":{"distance":0.5,"offset":0}}'
);
wwv_flow_imp_shared.create_workflow_participant(
 p_id=>wwv_flow_imp.id(2339135561237088)
,p_workflow_version_id=>wwv_flow_imp.id(2338270926237079)
,p_participant_type=>'ADMIN'
,p_name=>'New'
,p_identity_type=>'USER'
,p_value_type=>'STATIC'
,p_value=>'appsadmin'
);
wwv_flow_imp_shared.create_workflow_participant(
 p_id=>wwv_flow_imp.id(2483183310537195)
,p_workflow_version_id=>wwv_flow_imp.id(2338270926237079)
,p_participant_type=>'OWNER'
,p_name=>'New_1'
,p_identity_type=>'USER'
,p_value_type=>'STATIC'
,p_value=>'Madhu'
);
wwv_flow_imp_shared.create_workflow_version(
 p_id=>wwv_flow_imp.id(2726934570867047)
,p_workflow_id=>wwv_flow_imp.id(2338152491237078)
,p_version=>'V2'
,p_state=>'DEVELOPMENT'
);
wwv_flow_imp_shared.create_workflow_activity(
 p_id=>wwv_flow_imp.id(2727064173867048)
,p_workflow_version_id=>wwv_flow_imp.id(2726934570867047)
,p_name=>'Start'
,p_static_id=>'New'
,p_display_sequence=>10
,p_activity_type=>'NATIVE_WORKFLOW_START'
,p_diagram=>'{"position":{"x":340,"y":730},"z":1}'
);
wwv_flow_imp_shared.create_workflow_activity(
 p_id=>wwv_flow_imp.id(2727126408867049)
,p_workflow_version_id=>wwv_flow_imp.id(2726934570867047)
,p_name=>'Activity'
,p_static_id=>'New_1'
,p_display_sequence=>20
,p_activity_type=>'NATIVE_PLSQL'
,p_activity_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'',
'null;',
'',
'end;'))
,p_activity_code_language=>'PLSQL'
,p_location=>'LOCAL'
,p_diagram=>'{"position":{"x":530,"y":730},"z":2}'
);
wwv_flow_imp_shared.create_workflow_activity(
 p_id=>wwv_flow_imp.id(2727253447867050)
,p_workflow_version_id=>wwv_flow_imp.id(2726934570867047)
,p_name=>'End'
,p_static_id=>'New_2'
,p_display_sequence=>30
,p_activity_type=>'NATIVE_WORKFLOW_END'
,p_attribute_01=>'COMPLETED'
,p_diagram=>'{"position":{"x":880,"y":730},"z":3}'
);
wwv_flow_imp_shared.create_workflow_transition(
 p_id=>wwv_flow_imp.id(2727307583867051)
,p_name=>'New'
,p_transition_type=>'NORMAL'
,p_from_activity_id=>wwv_flow_imp.id(2727064173867048)
,p_to_activity_id=>wwv_flow_imp.id(2727126408867049)
,p_diagram=>'{"source":{},"target":{},"vertices":[],"z":4,"label":{"distance":0.5,"offset":0}}'
);
wwv_flow_imp_shared.create_workflow_transition(
 p_id=>wwv_flow_imp.id(2727448723867052)
,p_name=>'New'
,p_transition_type=>'NORMAL'
,p_from_activity_id=>wwv_flow_imp.id(2727126408867049)
,p_to_activity_id=>wwv_flow_imp.id(2727253447867050)
,p_diagram=>'{"source":{},"target":{},"vertices":[],"z":5,"label":{"distance":0.5,"offset":0}}'
);
wwv_flow_imp.component_end;
end;
/
